<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 5.4.2">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/Military-Sword-icon-32x32.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/Military-Sword-icon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/Military-Sword-icon-16x16.png">
  <link rel="mask-icon" href="/images/sword.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css" integrity="sha256-/4UQcSmErDzPCMAiuOiWPVVsNN2s3ZY/NsmXNcj0IFc=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"retzzz.github.io","root":"/","images":"/images","scheme":"Pisces","darkmode":true,"version":"8.15.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":"gitalk","storage":true,"lazyload":false,"nav":null,"activeClass":"gitalk"},"stickytabs":"ture","motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>

    <meta name="description" content="LeaderF现在基本是Vim最好的模糊查找插件. 其基本功能和演示可以参考作者Yggdroot的几篇文章介绍:  让人相见恨晚的vim插件：模糊查找神器LeaderF vim 的模糊查找插件 LeaderF 新功能介绍 LeaderF官网  本文是用来记录个人对工具的理解和学习过程. 记录各种应用场景里如何使用LeaderF, 如何配置. 什么是模糊查找 模糊查找的应用场景">
<meta property="og:type" content="article">
<meta property="og:title" content="vim plugin介绍之LeaderF">
<meta property="og:url" content="https://retzzz.github.io/dc9af5aa/index.html">
<meta property="og:site_name" content="Mingjian&#39;s Blog">
<meta property="og:description" content="LeaderF现在基本是Vim最好的模糊查找插件. 其基本功能和演示可以参考作者Yggdroot的几篇文章介绍:  让人相见恨晚的vim插件：模糊查找神器LeaderF vim 的模糊查找插件 LeaderF 新功能介绍 LeaderF官网  本文是用来记录个人对工具的理解和学习过程. 记录各种应用场景里如何使用LeaderF, 如何配置. 什么是模糊查找 模糊查找的应用场景">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2020-03-19T15:21:10.000Z">
<meta property="article:modified_time" content="2021-10-29T15:46:00.000Z">
<meta property="article:author" content="Mingjian">
<meta property="article:tag" content="vim">
<meta property="article:tag" content="neovim">
<meta property="article:tag" content="LeaderF">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://retzzz.github.io/dc9af5aa/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"https://retzzz.github.io/dc9af5aa/","path":"/dc9af5aa/","title":"vim plugin介绍之LeaderF"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>vim plugin介绍之LeaderF | Mingjian's Blog</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-160618774-1"></script>
  <script class="next-config" data-name="google_analytics" type="application/json">{"tracking_id":"UA-160618774-1","only_pageview":false}</script>
  <script src="/js/third-party/analytics/google-analytics.js"></script>

  <script src="/js/third-party/analytics/baidu-analytics.js"></script>
  <script async src="https://hm.baidu.com/hm.js?0dc9d8661d73be13d3e605feca017f0c"></script>

  <script async src="//assets.growingio.com/2.1/gio.js"></script>
  <script class="next-config" data-name="growingio_analytics" type="application/json">"abf47f3a6db226d1"</script>
  <script src="/js/third-party/analytics/growingio.js"></script>






  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">Mingjian's Blog</p>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">好记性不如烂笔头, 何况烂记性.<br/>人生如不能回档的游戏, 保持升级直到角色死亡.</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜索" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E6%A8%A1%E7%B3%8A%E6%9F%A5%E6%89%BE"><span class="nav-number">1.</span> <span class="nav-text">什么是模糊查找</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%96%87%E4%BB%B6%E6%A3%80%E7%B4%A2"><span class="nav-number">2.</span> <span class="nav-text">文件检索 </span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BF%AB%E6%8D%B7%E9%94%AE%E9%85%8D%E7%BD%AE"><span class="nav-number">2.1.</span> <span class="nav-text">快捷键配置</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A0%B9%E7%9B%AE%E5%BD%95%E9%85%8D%E7%BD%AE"><span class="nav-number">2.2.</span> <span class="nav-text">根目录配置</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%B4%A2%E5%BC%95%E6%96%B9%E5%BC%8F"><span class="nav-number">2.3.</span> <span class="nav-text">索引方式 </span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BF%BD%E7%95%A5%E6%96%87%E4%BB%B6"><span class="nav-number">2.4.</span> <span class="nav-text">忽略文件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BF%90%E8%A1%8Cleaderf%E4%B9%8B%E5%90%8E%E7%9A%84%E6%93%8D%E4%BD%9C"><span class="nav-number">2.5.</span> <span class="nav-text">运行LeaderF之后的操作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%B6%E4%BB%96%E6%9C%89%E7%94%A8%E9%80%89%E9%A1%B9"><span class="nav-number">2.6.</span> <span class="nav-text">其他有用选项</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%A3%80%E7%B4%A2"><span class="nav-number">3.</span> <span class="nav-text">正则表达式&#x2F;字符串检索
</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#rg"><span class="nav-number">3.1.</span> <span class="nav-text">rg</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%8Erg%E7%9B%B8%E5%85%B3%E7%9A%84%E6%8C%89%E9%94%AE%E6%98%A0%E5%B0%84"><span class="nav-number">3.2.</span> <span class="nav-text">与rg相关的按键映射</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#rg%E7%9A%84%E5%85%B6%E4%BB%96%E6%9C%89%E7%94%A8%E7%9A%84%E9%80%89%E9%A1%B9"><span class="nav-number">3.3.</span> <span class="nav-text">rg的其他有用的选项</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%9D%99%E6%80%81%E7%AC%A6%E5%8F%B7%E7%B4%A2%E5%BC%95%E6%A8%A1%E7%B3%8A%E6%9F%A5%E6%89%BE"><span class="nav-number">4.</span> <span class="nav-text">静态符号索引+模糊查找
</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9F%BA%E7%A1%80%E7%94%A8%E6%B3%95"><span class="nav-number">4.1.</span> <span class="nav-text">基础用法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#leaderfgtags%E5%BF%AB%E6%8D%B7%E6%96%B9%E5%BC%8F"><span class="nav-number">4.2.</span> <span class="nav-text">leaderf+gtags快捷方式</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%85%B6%E4%BB%96%E6%90%9C%E7%B4%A2"><span class="nav-number">5.</span> <span class="nav-text">其他搜索</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%80%BB%E7%BB%93"><span class="nav-number">6.</span> <span class="nav-text">总结</span></a></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Mingjian</p>
  <div class="site-description" itemprop="description">计算机技术, 航电, 数学, 读书笔记.</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">37</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">16</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">54</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://retzzz.github.io/dc9af5aa/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Mingjian">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Mingjian's Blog">
      <meta itemprop="description" content="计算机技术, 航电, 数学, 读书笔记.">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="vim plugin介绍之LeaderF | Mingjian's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          vim plugin介绍之LeaderF
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2020-03-19 23:21:10" itemprop="dateCreated datePublished" datetime="2020-03-19T23:21:10+08:00">2020-03-19</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2021-10-29 23:46:00" itemprop="dateModified" datetime="2021-10-29T23:46:00+08:00">2021-10-29</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index"><span itemprop="name">技术</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E6%8A%80%E6%9C%AF/vim/" itemprop="url" rel="index"><span itemprop="name">vim</span></a>
        </span>
    </span>

  
    <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span id="busuanzi_value_page_pv"></span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <p>LeaderF现在基本是Vim最好的模糊查找插件.
其基本功能和演示可以参考作者Yggdroot的几篇文章介绍:</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/29137923">让人相见恨晚的vim插件：模糊查找神器LeaderF</a></li>
<li><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/53680291">vim 的模糊查找插件
LeaderF 新功能介绍</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Yggdroot/LeaderF">LeaderF官网</a></li>
</ul>
<p>本文是用来记录个人对工具的理解和学习过程.
记录各种应用场景里如何使用LeaderF, 如何配置.</p>
<h2 id="什么是模糊查找">什么是模糊查找</h2>
<p>模糊查找的应用场景特别常见. 就是在海量信息中查找你想要的信息.</p>
<span id="more"></span>
<p>传统的办法是, 首先你要确定你要找的信息的内容, 然后遍历所有信息,
找到你要的. 比如说,你在一个有上千个文件的文件夹中找到你需要的文件,
首先你需要记住文件名, 然后文件夹中的 文件按照字母顺序排序,
然后你按照字母顺序找到你要的文件.</p>
<p>模糊查找的解决方案是这样的, 你不需要全部记住你要找的信息,
只需要记住里面的一部分, 甚至几个字母.
然后你按照你的记忆敲入你记住的部分,
然后查找软件会把所有匹配上的信息列出来, 你输入的越多, 列出来的越少.
最后知道你看到你要找的信息, 直接选中就行. 这种方法特别符合人性,
机械记忆弱爆(内存少), 但图像记忆特别强. 所以记不住全部,
但一看见就认识.</p>
<p>LeaderF基础功能就是及其快速的模糊查找. 但跟很多别的模糊查找软件不同,
LeaderF对于刚才说的海量信息提供给用户多种选择, 既可以是海量文件,
也可以是海量文本. 后面会介绍各种使用场景, 和配置方法.</p>
<h2 id="文件检索">文件检索 <span id="LeaderF-file"></span></h2>
<p>就是前面说的那个场景, 有一大堆文件,
输入几个字母就可以筛选出少数几个文件, 然后把你想要的那个挑出来.
VIM过去有一个流行的插件叫<a target="_blank" rel="noopener" href="https://github.com/kien/ctrlp.vim">CtrlP</a>. 就是实现这个功能.
不过根据作者的说法, 那个插件效率比较差.</p>
<h3 id="快捷键配置">快捷键配置</h3>
<p>只需要设置 <figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">g:Lf_ShortcutF</span> = <span class="string">&#x27;&lt;c-p&gt;&#x27;</span></span><br></pre></td></tr></table></figure>
就可以用这个老插件的快捷键Ctrl-P调出查找窗口,
然后输入你记忆中的文件名片段就可以了. 其默认快捷键是<leader>f,
也是这个软件名字的由来, 但是我习惯把这个快捷键map到别的功能上,
只用Ctrl-P.</leader></p>
<h3 id="根目录配置">根目录配置</h3>
<p>但这里还有个问题, 你需要告诉LeaderF到底在哪些目录中查找文件.
这里就需要配置两个全局变量<code>g:Lf_RootMarkers</code>和<code>g:Lf_WorkingDirectoryMode</code>.
前者是告诉LeaderF什么样的目录是你项目的根目录,
后者是告诉LeaderF按照什么规则找根目录. 我一般配置成下面这样:
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">g:Lf_WorkingDirectoryMode</span> = <span class="string">&#x27;AF&#x27;</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:Lf_RootMarkers</span> = [<span class="string">&#x27;.git&#x27;</span>, <span class="string">&#x27;.svn&#x27;</span>, <span class="string">&#x27;.hg&#x27;</span>, <span class="string">&#x27;.project&#x27;</span>, <span class="string">&#x27;.root&#x27;</span>]</span><br></pre></td></tr></table></figure> 这个设置的意思是,
如果一个目录含有任何具有list中指定的名字的子目录或者文件,
可以认定其为根目录. 搜索根目录的办法是, 1.
先找当前文件的所有祖先目录里最近的根目录,
如果找到就使用这个根目录为查找起点. (A的含义) 2. 如果没找到任何根目录,
看看当前打开的文件是否在VIM的工作目录(working directory)下,
或者任何其子目录下. 如果是, 就是用工作目录作为查找起点. (F的含义) 3.
如果当前文件不在工作目录和其后代目录下,
则以当前文件所在目录为查找起点.(default)</p>
<p>通常这么配置完了, 如果你工作在任何SCM管理的项目上(比如git,
subversion, hg), 都无需做额外配置,
否则可以自己手动在根目录下建立一个空的.root文件或者.project文件就可以正常使用了</p>
<h3 id="索引方式">索引方式 <span id="LeaderF-file-index"></span></h3>
<p>LeaderF提供给用户3种不同的文件索引方式.</p>
<ol type="1">
<li>如果LeaderF发现根目录是一个git或者hg的仓库(repository),
使用git或者hg作为索引文件的工具. 这个是LeaderF的默认配置.
选项<code>g:Lf_UseVersionControlTool</code>如果被用户设置成<code>0</code>,
则LeaderF不会使用git或者hg.</li>
<li>如果第一条不满足,
即或者选项<code>g:Lf_UseVersionControlTool==0</code>,
或者根目录不是一个git仓库, 或者hg仓库.
则LeaderF会检查是否有配置外部第三方工具.
选项<code>g:Lf_DefaultExternalTool</code>是用来配置这项的.
这个选项可以是'rg', 'pt', 'ag', 'find'之一, 顺序代表优先级.
关于这些工具, 下面一节有介绍. LeaderF默认是不配置的,
即默认不使用第三方工具.</li>
<li>使用python脚本索引文件, 这个比前两个来得慢, 但因为都是异步操作,
如果文件量不大的话基本无感.</li>
<li>如果<code>g:Lf_ExternalCommand</code>被设置了, 前面所有的选项都作废,
只根据这个命令来索引. 这个一般用不到.</li>
</ol>
<p>我的配置是 <figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">g:Lf_UseVersionControlTool</span>=<span class="number">1</span> <span class="comment">&quot;这个是默认选项, 可以不写</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:Lf_DefaultExternalTool</span>=<span class="string">&#x27;rg&#x27;</span></span><br></pre></td></tr></table></figure></p>
<h3 id="忽略文件">忽略文件</h3>
<p>有一个应用场景也很常见, 如果索引的文件里有很多文件是你不想要关注的.
但是你一检索, 他们会跳出来产生干扰. 比如编译生成的object文件.
比如某些SCM工具的辅助文件等等,
有什么办法可以通过提前设置而忽略掉这些文件么.</p>
<p>如果LeaderF使用前面说的第一种索引, 即用git或者hg索引,
这时LeaderF会通过repo的<code>.gitignore</code>或者<code>.hgignore</code>来忽略文件.
如果用其他的索引方法,
就要通过一个选项<code>g:Lf_WildIgnore</code>来设置忽略的文件. 当然,
对于不同的项目需要忽略的文件可能不一样.
这时候就可以用类似下面的<code>autocmd</code>命令来为不同的项目配置不同的忽略文件.</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">autocmd</span> BufNewFile,BufRead <span class="keyword">X</span>:/yourdir* <span class="keyword">let</span> <span class="variable">g:Lf_WildIgnore</span>=&#123;<span class="string">&#x27;file&#x27;</span>:[<span class="string">&#x27;*.vcproj&#x27;</span>, <span class="string">&#x27;*.vcxproj&#x27;</span>],<span class="string">&#x27;dir&#x27;</span>:[]&#125;</span><br></pre></td></tr></table></figure>
<p><strong>注意</strong>, 如果配置了之后还不工作,
可以尝试在现实文件列表之后按<code>F5</code>刷新一下缓存.</p>
<h3 id="运行leaderf之后的操作">运行LeaderF之后的操作</h3>
<p>可以通过<code>help leaderf-prompt</code>查看所有的操作,
比较常用的我列在下面: <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;C-C&gt;, &lt;ESC&gt; : 退出</span><br><span class="line">&lt;C-R&gt; : 在模糊查询和正则表达式模式间切换</span><br><span class="line">&lt;C-F&gt; : 在全路径搜索和名字搜索模式间切换</span><br><span class="line">&lt;Tab&gt; : 切换成normal模式</span><br><span class="line">&lt;C-V&gt;, &lt;S-Insert&gt; : 从剪切板里copy字符串进行查询</span><br><span class="line">&lt;C-U&gt; : 清除已经打出的字符</span><br><span class="line">&lt;C-J&gt;, &lt;C-K&gt; : 在结果列表中移动</span><br><span class="line">&lt;Up&gt;, &lt;Down&gt; : 从历史记录里调出上一次/下一次的输入pattern</span><br><span class="line">&lt;2-LeftMouse&gt; or &lt;CR&gt; : 打开在光标处的文件或者被选择的多个文件</span><br><span class="line">&lt;F5&gt;  : 刷新缓存</span><br><span class="line">&lt;C-P&gt; : 预览选中结果</span><br><span class="line">&lt;C-Up&gt; : 在预览popup窗口里滚动向上</span><br><span class="line">&lt;C-Down&gt; : 在预览popup窗口里滚动向下</span><br></pre></td></tr></table></figure> 一旦按<code>tab</code>,
则会进入normal模式, 可以使用大部分normal模式命令,
但是还是有一些normal模式下的LeaderF命令,
你可以在normal模式下按<code>F1</code>来显示这些命令. 支持选择多个文件,
也可以分裂窗口打开文件.</p>
<h3 id="其他有用选项">其他有用选项</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">g:Lf_ShowHidden 设置1则显示隐藏文件. 默认值0.</span><br><span class="line">g:Lf_PreviewInPopup 设置成1, 预览(preview)会在弹出(popup)窗口里显示, 而不会在原来的文件所在的窗口里显示. 默认值是0.</span><br><span class="line">g:Lf_WindowHeight 设置窗口高度</span><br><span class="line">g:Lf_CacheDirectory 设置缓存路径</span><br><span class="line">g:Lf_StlColorscheme 设置状态栏配色方案</span><br><span class="line">g:Lf_PreviewResult 设置哪几个功能自动显示preview</span><br><span class="line">g:Lf_ReverseOrder 设置为1, 结果从下到上显示, 跟fzf/CtrlP一致, 默认是0, 从上倒下显示.</span><br></pre></td></tr></table></figure>
<p>我的配置是 <figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> <span class="built_in">has</span>(<span class="string">&#x27;nvim&#x27;</span>)</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">s:cachedir</span> = <span class="built_in">expand</span>(stdpath(<span class="string">&#x27;cache&#x27;</span>))</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">s:configdir</span> = <span class="built_in">expand</span>(stdpath(<span class="string">&#x27;config&#x27;</span>))</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="comment">&quot;vim will share same folder with nvim</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">has</span>(<span class="string">&#x27;win32&#x27;</span>)</span><br><span class="line">        <span class="keyword">let</span> <span class="variable">s:cachedir</span> = <span class="built_in">expand</span>(<span class="string">&#x27;~/AppData/Local/Temp/cache/nvim&#x27;</span>)</span><br><span class="line">        <span class="keyword">let</span> <span class="variable">s:configdir</span> = <span class="built_in">expand</span>(<span class="string">&#x27;~/AppData/Local/nvim&#x27;</span>)</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">let</span> <span class="variable">s:cachedir</span> = <span class="built_in">expand</span>(<span class="string">&#x27;~/.cache/nvim&#x27;</span>)</span><br><span class="line">        <span class="keyword">let</span> <span class="variable">s:configdir</span> = <span class="built_in">expand</span>(<span class="string">&#x27;~/.config/nvim&#x27;</span>)</span><br><span class="line">    <span class="keyword">endif</span></span><br><span class="line"><span class="keyword">endif</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:Lf_PreviewInPopup</span> = <span class="number">1</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:Lf_WindowHeight</span> = <span class="number">0.30</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:Lf_CacheDirectory</span> = <span class="variable">s:cachedir</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:Lf_StlColorscheme</span> = <span class="string">&#x27;powerline&#x27;</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:Lf_PreviewResult</span> = &#123;</span><br><span class="line">        \ <span class="string">&#x27;File&#x27;</span>: <span class="number">0</span>,</span><br><span class="line">        \ <span class="string">&#x27;Buffer&#x27;</span>: <span class="number">0</span>,</span><br><span class="line">        \ <span class="string">&#x27;Mru&#x27;</span>: <span class="number">0</span>,</span><br><span class="line">        \ <span class="string">&#x27;Tag&#x27;</span>: <span class="number">0</span>,</span><br><span class="line">        \ <span class="string">&#x27;BufTag&#x27;</span>: <span class="number">1</span>,</span><br><span class="line">        \ <span class="string">&#x27;Function&#x27;</span>: <span class="number">1</span>,</span><br><span class="line">        \ <span class="string">&#x27;Line&#x27;</span>: <span class="number">1</span>,</span><br><span class="line">        \ <span class="string">&#x27;Colorscheme&#x27;</span>: <span class="number">0</span>,</span><br><span class="line">        \ <span class="string">&#x27;Rg&#x27;</span>: <span class="number">0</span>,</span><br><span class="line">        \ <span class="string">&#x27;Gtags&#x27;</span>: <span class="number">0</span></span><br><span class="line">        \&#125;</span><br></pre></td></tr></table></figure></p>
<p>关于popup preview窗口, 这个是使用了vim8.1和neovim的floating
window的新功能, 我试用了一下, gvim上表现还不错. neovim-qt上
popup窗口的颜色在某些colorscheme下会非常难以辨识字符,
而且不确定是neovim本身的问题, 还是LeaderF的问题.
但popup窗口的优点也难以割舍, 它可以让你不变动当前位置的情况下预览.</p>
<p>注意, 这里讲的选项, 有些对本文后面讲的其他功能部分也有用.</p>
<h2 id="正则表达式字符串检索">正则表达式/字符串检索
<span id="LeaderF-rg"></span></h2>
<p>正则表达式或者字符串检索, 也即是常说的grep操作,
就是在指定的文件集合中查找那些包含已知的字符串或者包含能匹配上正则表达式字符串的行.</p>
<p>如果是读/写代码, 这个应用场景明显比查找文件使用率还高.
但这种查找一旦文件多了计算量将会非常大. 比如在linux源代码中查找一个变量.
所以通常用一种类grep的专门的软件实现.</p>
<p>这里LeaderF无法直接实现这个功能. 而是需要一个外援.
能够实现这个功能的软件很多, 包扩GNU grep, ack, ag, rg, tp等等.
访问这里<a target="_blank" rel="noopener" href="https://beyondgrep.com/feature-comparison/">Feature
comparison of ack, ag, git-grep, GNU grep and
ripgrep</a>可以比较这些软件的功能. 而这篇<a target="_blank" rel="noopener" href="https://blog.burntsushi.net/ripgrep">ripgrep is faster than {grep,
ag, git grep, ucg, pt, sift}</a>有人对这些软件的速度进行过测试.
LeaderF的外援就是ripgrep, 简称rg.</p>
<p>rg检索的结果会导入到LeaderF里再进行模糊查找.</p>
<h3 id="rg">rg</h3>
<p>首先需要安装rg, 下载地址在<a target="_blank" rel="noopener" href="https://github.com/BurntSushi/ripgrep/releases">这里</a>,
并且让rg所在目录在系统路径下. 然后可以用的如下命令来调用rg.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Leaderf rg ...</span><br></pre></td></tr></table></figure>
<p>调用之后, rg的结果就会在LeaderF窗口里列出,
之后就可以继续用前面提到的模糊匹配, 进一步筛选出你想要的行.
这里rg后面需要接的参数都是rg自身的参数,
可以用<code>Leaderf rg --help</code>来查看rg怎么使用.</p>
<h3 id="与rg相关的按键映射">与rg相关的按键映射</h3>
<p>自己记忆参数用起来肯定不方便. 用得最多的场景是, 检索光标所在位置的词,
或者在visual模式下选中的词.
对于这种场景LeaderF提供了一系列可以映射的句柄. 下面是我自己的映射.</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">nmap</span> <span class="symbol">&lt;unique&gt;</span> <span class="symbol">&lt;leader&gt;</span>fr <span class="symbol">&lt;Plug&gt;</span>LeaderfRgPrompt</span><br><span class="line"><span class="keyword">nmap</span> <span class="symbol">&lt;unique&gt;</span> <span class="symbol">&lt;leader&gt;</span>fra <span class="symbol">&lt;Plug&gt;</span>LeaderfRgCwordLiteralNoBoundary</span><br><span class="line"><span class="keyword">nmap</span> <span class="symbol">&lt;unique&gt;</span> <span class="symbol">&lt;leader&gt;</span>frb <span class="symbol">&lt;Plug&gt;</span>LeaderfRgCwordLiteralBoundary</span><br><span class="line"><span class="keyword">nmap</span> <span class="symbol">&lt;unique&gt;</span> <span class="symbol">&lt;leader&gt;</span>frc <span class="symbol">&lt;Plug&gt;</span>LeaderfRgCwordRegexNoBoundary</span><br><span class="line"><span class="keyword">nmap</span> <span class="symbol">&lt;unique&gt;</span> <span class="symbol">&lt;leader&gt;</span>frd <span class="symbol">&lt;Plug&gt;</span>LeaderfRgCwordRegexBoundary</span><br><span class="line"></span><br><span class="line"><span class="keyword">vmap</span> <span class="symbol">&lt;unique&gt;</span> <span class="symbol">&lt;leader&gt;</span>fra <span class="symbol">&lt;Plug&gt;</span>LeaderfRgVisualLiteralNoBoundary</span><br><span class="line"><span class="keyword">vmap</span> <span class="symbol">&lt;unique&gt;</span> <span class="symbol">&lt;leader&gt;</span>frb <span class="symbol">&lt;Plug&gt;</span>LeaderfRgVisualLiteralBoundary</span><br><span class="line"><span class="keyword">vmap</span> <span class="symbol">&lt;unique&gt;</span> <span class="symbol">&lt;leader&gt;</span>frc <span class="symbol">&lt;Plug&gt;</span>LeaderfRgVisualRegexNoBoundary</span><br><span class="line"><span class="keyword">vmap</span> <span class="symbol">&lt;unique&gt;</span> <span class="symbol">&lt;leader&gt;</span>frd <span class="symbol">&lt;Plug&gt;</span>LeaderfRgVisualRegexBoundary</span><br></pre></td></tr></table></figure>
<p>快捷键主要是看自己的习惯, 配置完以后, 就可以光速查找当前词.
解释一下:</p>
<table>
<colgroup>
<col style="width: 21%">
<col style="width: 78%">
</colgroup>
<thead>
<tr class="header">
<th>快捷键</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>&lt;leader&gt;fr</code></td>
<td>将会在命令行显示 <code>:Leaderf rg -e</code>,
然后等待用户输入想要查询的正则表达式.</td>
</tr>
<tr class="even">
<td><code>&lt;leader&gt;fra</code></td>
<td>将会直接查询光标所在的词语或者visual模式下选中的词语, 但是没有边界.
没有边界的意思是说如果你查<code>word</code>,
包含<code>abcwordxyz</code>的行也会被搜到.</td>
</tr>
<tr class="odd">
<td><code>&lt;leader&gt;frb</code></td>
<td>将会直接查询光标所在的词语,或者visual模式下选中的词语 但是有边界.
有边界的意思是说如果你查<code>word</code>, 包含<code>abcwordxyz</code>
的行不会被搜到,
只有包含类似<code>abc word xyz</code>字段的行才会被搜到.</td>
</tr>
<tr class="even">
<td><code>&lt;leader&gt;frc</code></td>
<td>将会直接把光标所在的词语或者visual模式下选中的词语作为正则表达式检索,
但是没有边界.</td>
</tr>
<tr class="odd">
<td><code>&lt;leader&gt;frd</code></td>
<td>将会直接把光标所在的词语或者visual模式下选中的词语作为正则表达式检索,
但是有边界.</td>
</tr>
</tbody>
</table>
<p>注意敲完快捷键之后需要按一下回车,
这个是LeaderF作者给用户留下了编辑命令的机会. 这几个快捷方式,
只使用了下面几个<code>rg</code>选项:</p>
<ul>
<li><code>-i</code> 忽略大小写.</li>
<li><code>-e &lt;PATTERN&gt;</code> 正则表达式搜索.</li>
<li><code>-F</code> 搜索字符串而不是正则表达式.</li>
<li><code>-w</code> 搜索只匹配有边界的词.</li>
</ul>
<h3 id="rg的其他有用的选项">rg的其他有用的选项</h3>
<p>还有一些常见的场景前面的几个快捷方式无法实现,
比如想要只检索某些特定的文件或者排除掉某些文件.</p>
<table>
<colgroup>
<col style="width: 21%">
<col style="width: 78%">
</colgroup>
<thead>
<tr class="header">
<th>rg选项</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>-g, --glob &lt;GLOB&gt;</code></td>
<td>用通配符限定或者排除检索的文件或者目录. 可以使用多次.
通配符的使用跟<code>.gitignore</code>一致. 具体语法参考<a target="_blank" rel="noopener" href="https://www.atlassian.com/git/tutorials/saving-changes/gitignore">这里</a>.
在glob前加<code>!</code>表示排除.</td>
</tr>
<tr class="even">
<td><code>-iglob &lt;GLOB&gt;</code></td>
<td>跟前一个一样, 但是忽略大小写.</td>
</tr>
<tr class="odd">
<td><code>-t, --type &lt;TYPE&gt;</code></td>
<td>文件类型检索, rg内置了很多不同的文件类型,
可以使用<code>--type-list</code>来查看其支持的所有文件类型.
比如<code>-t cpp</code>等于<code>*.[chH], *.[chH].in, *.cats</code>.
一个特例是<code>-t all</code>代表检索所有支持的文件类型里匹配的文件.</td>
</tr>
</tbody>
</table>
<table>
<colgroup>
<col style="width: 23%">
<col style="width: 76%">
</colgroup>
<thead>
<tr class="header">
<th>LeaderF选项</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>g:Lf_RgConfig</code></td>
<td>可以提前制定一系列rg选项</td>
</tr>
<tr class="even">
<td><code>g:Lf_RgStorePattern</code></td>
<td>可以指定一个vim的寄存器, 一旦检索,
<code>-e</code>后面的内容会被存储进入这个寄存器并且转换成vim的搜索格式.
这个寄存器可以在vim的<code>/</code>或<code>?</code>搜索命令中直接使用.</td>
</tr>
</tbody>
</table>
<p>注意:
前一部分讲的文件搜索里用到的LeaderF选项<code>g:Lf_WildIgnore</code>在这里不起作用,
所以只能用<code>-g "!xxx"</code>来排除文件.
但是用选项<code>g:Lf_RgConfig</code>可以把rg的选项提前设置好.
特别是针对于某个项目用<code>autocmd</code>配置特别的检索选项可以减少误报和漏报.</p>
<h2 id="静态符号索引模糊查找">静态符号索引+模糊查找
<span id="LeaderF-gtags"></span></h2>
<p>前面的rg是通过字符串或者正则表达式进行查找,
更进一步的检索就是静态符号索引. 这篇描述vim默认的标签系统的 --
<a href="/88014cac/" title="vim标签系统">vim标签系统</a>可供参考.</p>
<h3 id="基础用法">基础用法</h3>
<p>LeaderF的作者考虑到静态符号检索出来的结果也可以用来模糊查询.
所以也集成了静态符号索引到中. 下面是LeaderF作者君对基础用法的介绍.</p>
<p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/64842373">Leaderf
gtags：模糊匹配与最强静态符号索引工具的完美结合</a></p>
<p>作者放弃了传统的<code>ctags</code>,
而是使用了另外一个功能更强大的静态符号索引软件<a target="_blank" rel="noopener" href="https://www.gnu.org/software/global/global.html"><code>gtags</code></a></p>
<p>这一篇是介绍gtags的使用的.</p>
<p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/36279445">Vim 8 中 C/C++
符号索引：GTags 篇</a></p>
<p>这篇文章中介绍了另外一个插件<a target="_blank" rel="noopener" href="https://github.com/ludovicchabant/vim-gutentags">vim-gutentags</a>,
这个插件是用来管理静态符号索引文件的, 可以同时支持ctags和gtags.
Leaderf也可以管理标签文件, 只要打开如下开关: <figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">g:Lf_GtagsAutoGenerate</span> = <span class="number">1</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:Lf_GtagsSource</span> = <span class="number">1</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:Lf_Gtagsconf</span> = <span class="string">&#x27;&lt;gtags_root_path&gt;/share/gtags/gtags.conf&#x27;</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:Lf_Gtagslabel</span> = <span class="string">&#x27;native-pygments&#x27;</span></span><br></pre></td></tr></table></figure>
Leaderf就可以自己自动生成标签库.</p>
<p>解释一下,
<code>g:Lf_GtagsAutoGenerate</code>是用来告诉LeaderF在打开文件后自动生成gtags数据库.</p>
<p><code>g:Lf_GtagsSource</code>可以配置3个值, [0,1,2], 默认值0.
用来配置gtags的需要分析的文件有哪些. 默认值0意思是gtags自己解决,
也就是需要自己添加gtags的选项, 不配置的话, 我理解就是所有文件. 设置成1,
将使用本文第一部分讲的<a href="#LeaderF-file-index">文件索引方式</a>.
设置成2, 就需要自己通过配置<code>g:Lf_GtagsfilesCmd</code>.
总结就是如果是小项目, 不用管这个选项. 如果是大项目,
你前面文件检索已经配置过了, 就设置成1. 如果你项目特殊, 设置成2,
然后自己动手配置文件来源.</p>
<p><code>g:Lf_Gtagsconf</code>是用来指定gtags.conf文件的位置,
<code>Lf_Gtagslabel</code>是说c/c++用gtags自己的解析器,
其他语言以来于<code>pygments</code>. <code>pygments</code>是一个python
module, 可以通过<code>pip install pygments</code>安装.</p>
<p>但为了让两个插件共享标签数据库, 可以如下设置: <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">let g:Lf_GtagsAutoGenerate = 0</span><br><span class="line">let g:Lf_GtagsGutentags = 1</span><br><span class="line">let g:gutentags_cache_dir = expand(g:Lf_CacheDirectory.&#x27;\.LfCache\gtags&#x27;)</span><br></pre></td></tr></table></figure>
意思就是不自动生成库而试用<code>gutentags</code>生成的,
同时把<code>gutentags</code>的标签生成目录设置成leaderf的标签目录缓存.</p>
<h3 id="leaderfgtags快捷方式">leaderf+gtags快捷方式</h3>
<p>下面是我的相关配置:</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">nmap</span> <span class="symbol">&lt;unique&gt;</span> <span class="symbol">&lt;leader&gt;</span>fgd <span class="symbol">&lt;Plug&gt;</span>LeaderfGtagsDefinition</span><br><span class="line"><span class="keyword">nmap</span> <span class="symbol">&lt;unique&gt;</span> <span class="symbol">&lt;leader&gt;</span>fgr <span class="symbol">&lt;Plug&gt;</span>LeaderfGtagsReference</span><br><span class="line"><span class="keyword">nmap</span> <span class="symbol">&lt;unique&gt;</span> <span class="symbol">&lt;leader&gt;</span>fgs <span class="symbol">&lt;Plug&gt;</span>LeaderfGtagsSymbol</span><br><span class="line"><span class="keyword">nmap</span> <span class="symbol">&lt;unique&gt;</span> <span class="symbol">&lt;leader&gt;</span>fgg <span class="symbol">&lt;Plug&gt;</span>LeaderfGtagsGrep</span><br><span class="line"></span><br><span class="line"><span class="keyword">vmap</span> <span class="symbol">&lt;unique&gt;</span> <span class="symbol">&lt;leader&gt;</span>fgd <span class="symbol">&lt;Plug&gt;</span>LeaderfGtagsDefinition</span><br><span class="line"><span class="keyword">vmap</span> <span class="symbol">&lt;unique&gt;</span> <span class="symbol">&lt;leader&gt;</span>fgr <span class="symbol">&lt;Plug&gt;</span>LeaderfGtagsReference</span><br><span class="line"><span class="keyword">vmap</span> <span class="symbol">&lt;unique&gt;</span> <span class="symbol">&lt;leader&gt;</span>fgs <span class="symbol">&lt;Plug&gt;</span>LeaderfGtagsSymbol</span><br><span class="line"><span class="keyword">vmap</span> <span class="symbol">&lt;unique&gt;</span> <span class="symbol">&lt;leader&gt;</span>fgg <span class="symbol">&lt;Plug&gt;</span>LeaderfGtagsGrep</span><br><span class="line"></span><br><span class="line"><span class="keyword">noremap</span> <span class="symbol">&lt;leader&gt;</span>fgo :<span class="symbol">&lt;C-U&gt;</span><span class="symbol">&lt;C-R&gt;</span>=<span class="built_in">printf</span>(<span class="string">&quot;Leaderf! gtags --recall %s&quot;</span>, <span class="string">&quot;&quot;</span>)<span class="symbol">&lt;CR&gt;</span><span class="symbol">&lt;CR&gt;</span></span><br><span class="line"><span class="keyword">noremap</span> <span class="symbol">&lt;leader&gt;</span>fgn :<span class="symbol">&lt;C-U&gt;</span><span class="symbol">&lt;C-R&gt;</span>=<span class="built_in">printf</span>(<span class="string">&quot;Leaderf gtags --next %s&quot;</span>, <span class="string">&quot;&quot;</span>)<span class="symbol">&lt;CR&gt;</span><span class="symbol">&lt;CR&gt;</span></span><br><span class="line"><span class="keyword">noremap</span> <span class="symbol">&lt;leader&gt;</span>fgp :<span class="symbol">&lt;C-U&gt;</span><span class="symbol">&lt;C-R&gt;</span>=<span class="built_in">printf</span>(<span class="string">&quot;Leaderf gtags --previous %s&quot;</span>, <span class="string">&quot;&quot;</span>)<span class="symbol">&lt;CR&gt;</span><span class="symbol">&lt;CR&gt;</span></span><br></pre></td></tr></table></figure>
<p>关于快捷键, 配置完后,
<code>&lt;leader&gt;fgd</code>约等于<code>g_Ctrl-]</code>,
区别是这里加入了模糊搜索和异步执行.
<code>&lt;leader&gt;fgr</code>是ctags不提供的找引用的功能,
<code>&lt;leader&gt;fgs</code>约等于前面的<code>&lt;leader&gt;frb</code>,
<code>&lt;leader&gt;fgg</code>约等于前面的<code>&lt;leader&gt;fra</code>,
之所以这么配置, 主要是我打算根据长期使用比较一下哪个rg和gtags更好用.
<code>&lt;leader&gt;fgo</code>打开上一次检索的结果,
<code>&lt;leader&gt;fgn</code>和<code>&lt;leader&gt;fgp</code>基本等于<code>:tn</code>,
<code>:tp</code>, 在匹配列表中上下跳转.</p>
<p>这里我发现了一个疑似bug, 提交给了作者: <a target="_blank" rel="noopener" href="https://github.com/Yggdroot/LeaderF/issues/533">issue#533</a></p>
<h2 id="其他搜索">其他搜索</h2>
<p>模糊搜索和异步执行作为LeaderF的核心武器, 可以扩展到所有的信息搜索上,
LeaderF的作者在这里下了很多功夫, 以下是LeaderF提供的所有搜索功能</p>
<table>
<colgroup>
<col style="width: 23%">
<col style="width: 76%">
</colgroup>
<thead>
<tr class="header">
<th>功能</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>:LeaderfFile</td>
<td>本文<a href="#LeaderF-file">第一部分</a>讲的就是这个命令</td>
</tr>
<tr class="even">
<td>:LeaderfBuffer</td>
<td>在所有打开的buffer里根据buffer的名字搜索相应的buffer,
这个可以用来替代:ls</td>
</tr>
<tr class="odd">
<td>:LeaderfBufferAll</td>
<td>同上, 除了加入隐藏的buffer, 比如帮助文档等.</td>
</tr>
<tr class="even">
<td>:LeaderfMru</td>
<td>搜索most recently used file, 默认显示100个, 可以配置数量.</td>
</tr>
<tr class="odd">
<td>:LeaderfMruCwd</td>
<td>同上, 但只在当前的工作路径下搜索</td>
</tr>
<tr class="even">
<td>:LeaderfTag</td>
<td>在tag文件中检索, 注意这个是ctags的tag文件.</td>
</tr>
<tr class="odd">
<td>:LeaderfBufTag</td>
<td>同上, 但只检索当前buffer的tags</td>
</tr>
<tr class="even">
<td>:LeaderfBufTagAll</td>
<td>同上, 但查找所有listed buffers的tags</td>
</tr>
<tr class="odd">
<td>:LeaderfFunction</td>
<td>查找当前文件的函数或者方法, 这个基本可以用来替代<a target="_blank" rel="noopener" href="https://github.com/majutsushi/tagbar">tarbar</a></td>
</tr>
<tr class="even">
<td>:LeaderfFunctionAll</td>
<td>同上, 但列出所有listed buffers的函数和方法</td>
</tr>
<tr class="odd">
<td>:LeaderfLine</td>
<td>在当前文件搜索行, 可以用来替代<code>/</code>和<code>?</code></td>
</tr>
<tr class="even">
<td>:LeaderfLineAll</td>
<td>同上, 但搜索所有的listed buffers的行.</td>
</tr>
<tr class="odd">
<td>:LeaderfHistoryCmd</td>
<td>检索所有执行过的vim命令</td>
</tr>
<tr class="even">
<td>:LeaderfHistorySearch</td>
<td>检索所有执行过的vim搜索</td>
</tr>
<tr class="odd">
<td>:LeaderfSelf</td>
<td>列出所有LeaderF的可执行命令, 供用户检索, 有了这个,
可以不用记忆所有其他命令了.</td>
</tr>
<tr class="even">
<td>:LeaderfHelp</td>
<td>在help tags检索</td>
</tr>
<tr class="odd">
<td>:LeaderfColorscheme</td>
<td>在所有可用的colorscheme里检索</td>
</tr>
<tr class="even">
<td>:LeaderfFiletype</td>
<td>在所有可用的文件类型里检索</td>
</tr>
<tr class="odd">
<td>:LeaderfCommand</td>
<td>在所有可用的vim命令(包括内置的和用户定义的)里检索</td>
</tr>
<tr class="even">
<td>:LeaderfWindow</td>
<td>在所有vim的windows里检索</td>
</tr>
<tr class="odd">
<td>:LeaderfRgInteractive</td>
<td>以交互模式执行<code>Leaderf rg</code></td>
</tr>
<tr class="even">
<td>:LeaderfRgRecall</td>
<td>执行执行过的最后次<code>Leaderf rg</code>命令</td>
</tr>
</tbody>
</table>
<p>我把里面最常用的定义了一些快捷键</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">g:Lf_ShortcutF</span> = <span class="string">&#x27;&lt;c-p&gt;&#x27;</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:Lf_ShortcutB</span> = <span class="string">&#x27;&lt;c-l&gt;&#x27;</span></span><br><span class="line"><span class="keyword">noremap</span> <span class="symbol">&lt;leader&gt;</span><span class="keyword">f</span> :LeaderfSelf<span class="symbol">&lt;cr&gt;</span></span><br><span class="line"><span class="keyword">noremap</span> <span class="symbol">&lt;leader&gt;</span>fm :LeaderfMru<span class="symbol">&lt;cr&gt;</span></span><br><span class="line"><span class="keyword">noremap</span> <span class="symbol">&lt;leader&gt;</span>ff :LeaderfFunction<span class="symbol">&lt;cr&gt;</span></span><br><span class="line"><span class="keyword">noremap</span> <span class="symbol">&lt;leader&gt;</span>fb :LeaderfBufTagAll<span class="symbol">&lt;cr&gt;</span></span><br><span class="line"><span class="keyword">noremap</span> <span class="symbol">&lt;leader&gt;</span>ft :LeaderfBufTag<span class="symbol">&lt;cr&gt;</span></span><br><span class="line"><span class="keyword">noremap</span> <span class="symbol">&lt;leader&gt;</span>fl :LeaderfLine<span class="symbol">&lt;cr&gt;</span></span><br><span class="line"><span class="keyword">noremap</span> <span class="symbol">&lt;leader&gt;</span>fw :LeaderfWindow<span class="symbol">&lt;cr&gt;</span></span><br></pre></td></tr></table></figure>
<p>这里有个窍门是, 一旦想不起快捷键,
<code>&lt;leader&gt;f</code>就会直接列出所有可用的Leaderf命令.</p>
<h2 id="总结">总结</h2>
<p>总结一下, 有了一个LeaderF,
几乎所有用来检索的插件甚至内部命令都可以不要了.
这里得除了根据语言语法的动态检索以外. 这是另外的话题, 以后再说.</p>
<p>LeaderF的配置还是需要打磨一下, 文件检索基本是傻瓜模式, 但其他,
尤其是配合rg和gtags还是需要花功夫配置一下, 否则用起来不会有完美体验.</p>
<p>下面是我所有的配置总结.</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&quot;--------------</span></span><br><span class="line"><span class="comment">&quot; LeaderF start</span></span><br><span class="line"><span class="comment">&quot;--------------</span></span><br><span class="line"><span class="string">&quot;let g:Lf_Ctags=&quot;</span>ctags<span class="comment">&quot;</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:Lf_WorkingDirectoryMode</span> = <span class="string">&#x27;AF&#x27;</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:Lf_RootMarkers</span> = [<span class="string">&#x27;.git&#x27;</span>, <span class="string">&#x27;.svn&#x27;</span>, <span class="string">&#x27;.hg&#x27;</span>, <span class="string">&#x27;.project&#x27;</span>, <span class="string">&#x27;.root&#x27;</span>]</span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:Lf_UseVersionControlTool</span>=<span class="number">1</span> <span class="comment">&quot;default value, can ignore</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:Lf_DefaultExternalTool</span>=<span class="string">&#x27;rg&#x27;</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:Lf_PreviewInPopup</span> = <span class="number">1</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:Lf_WindowHeight</span> = <span class="number">0.30</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:Lf_CacheDirectory</span> = <span class="variable">s:cachedir</span></span><br><span class="line"><span class="comment">&quot;let g:Lf_StlColorscheme = &#x27;powerline&#x27;</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:Lf_PreviewResult</span> = &#123;</span><br><span class="line">        \ <span class="string">&#x27;File&#x27;</span>: <span class="number">0</span>,</span><br><span class="line">        \ <span class="string">&#x27;Buffer&#x27;</span>: <span class="number">0</span>,</span><br><span class="line">        \ <span class="string">&#x27;Mru&#x27;</span>: <span class="number">0</span>,</span><br><span class="line">        \ <span class="string">&#x27;Tag&#x27;</span>: <span class="number">0</span>,</span><br><span class="line">        \ <span class="string">&#x27;BufTag&#x27;</span>: <span class="number">1</span>,</span><br><span class="line">        \ <span class="string">&#x27;Function&#x27;</span>: <span class="number">1</span>,</span><br><span class="line">        \ <span class="string">&#x27;Line&#x27;</span>: <span class="number">1</span>,</span><br><span class="line">        \ <span class="string">&#x27;Colorscheme&#x27;</span>: <span class="number">0</span>,</span><br><span class="line">        \ <span class="string">&#x27;Rg&#x27;</span>: <span class="number">0</span>,</span><br><span class="line">        \ <span class="string">&#x27;Gtags&#x27;</span>: <span class="number">0</span></span><br><span class="line">        \&#125;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:Lf_GtagsAutoGenerate</span> = <span class="number">0</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:Lf_GtagsGutentags</span> = <span class="number">1</span></span><br><span class="line"><span class="comment">&quot;let g:Lf_GtagsAutoGenerate = 1</span></span><br><span class="line"><span class="comment">&quot;let g:Lf_Gtagslabel = &#x27;native-pygments&#x27;</span></span><br><span class="line"><span class="comment">&quot;let g:Lf_GtagsSource = 1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:Lf_ShortcutF</span> = <span class="string">&#x27;&lt;c-p&gt;&#x27;</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:Lf_ShortcutB</span> = <span class="string">&#x27;&lt;c-l&gt;&#x27;</span></span><br><span class="line"><span class="keyword">noremap</span> <span class="symbol">&lt;leader&gt;</span><span class="keyword">f</span> :LeaderfSelf<span class="symbol">&lt;cr&gt;</span></span><br><span class="line"><span class="keyword">noremap</span> <span class="symbol">&lt;leader&gt;</span>fm :LeaderfMru<span class="symbol">&lt;cr&gt;</span></span><br><span class="line"><span class="keyword">noremap</span> <span class="symbol">&lt;leader&gt;</span>ff :LeaderfFunction<span class="symbol">&lt;cr&gt;</span></span><br><span class="line"><span class="keyword">noremap</span> <span class="symbol">&lt;leader&gt;</span>fb :LeaderfBuffer<span class="symbol">&lt;cr&gt;</span></span><br><span class="line"><span class="keyword">noremap</span> <span class="symbol">&lt;leader&gt;</span>ft :LeaderfBufTag<span class="symbol">&lt;cr&gt;</span></span><br><span class="line"><span class="keyword">noremap</span> <span class="symbol">&lt;leader&gt;</span>fl :LeaderfLine<span class="symbol">&lt;cr&gt;</span></span><br><span class="line"><span class="keyword">noremap</span> <span class="symbol">&lt;leader&gt;</span>fw :LeaderfWindow<span class="symbol">&lt;cr&gt;</span></span><br><span class="line"><span class="keyword">noremap</span> <span class="symbol">&lt;leader&gt;</span>frr :LeaderfRgRecall<span class="symbol">&lt;cr&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">nmap</span> <span class="symbol">&lt;unique&gt;</span> <span class="symbol">&lt;leader&gt;</span>fr <span class="symbol">&lt;Plug&gt;</span>LeaderfRgPrompt</span><br><span class="line"><span class="keyword">nmap</span> <span class="symbol">&lt;unique&gt;</span> <span class="symbol">&lt;leader&gt;</span>fra <span class="symbol">&lt;Plug&gt;</span>LeaderfRgCwordLiteralNoBoundary</span><br><span class="line"><span class="keyword">nmap</span> <span class="symbol">&lt;unique&gt;</span> <span class="symbol">&lt;leader&gt;</span>frb <span class="symbol">&lt;Plug&gt;</span>LeaderfRgCwordLiteralBoundary</span><br><span class="line"><span class="keyword">nmap</span> <span class="symbol">&lt;unique&gt;</span> <span class="symbol">&lt;leader&gt;</span>frc <span class="symbol">&lt;Plug&gt;</span>LeaderfRgCwordRegexNoBoundary</span><br><span class="line"><span class="keyword">nmap</span> <span class="symbol">&lt;unique&gt;</span> <span class="symbol">&lt;leader&gt;</span>frd <span class="symbol">&lt;Plug&gt;</span>LeaderfRgCwordRegexBoundary</span><br><span class="line"></span><br><span class="line"><span class="keyword">vmap</span> <span class="symbol">&lt;unique&gt;</span> <span class="symbol">&lt;leader&gt;</span>fra <span class="symbol">&lt;Plug&gt;</span>LeaderfRgVisualLiteralNoBoundary</span><br><span class="line"><span class="keyword">vmap</span> <span class="symbol">&lt;unique&gt;</span> <span class="symbol">&lt;leader&gt;</span>frb <span class="symbol">&lt;Plug&gt;</span>LeaderfRgVisualLiteralBoundary</span><br><span class="line"><span class="keyword">vmap</span> <span class="symbol">&lt;unique&gt;</span> <span class="symbol">&lt;leader&gt;</span>frc <span class="symbol">&lt;Plug&gt;</span>LeaderfRgVisualRegexNoBoundary</span><br><span class="line"><span class="keyword">vmap</span> <span class="symbol">&lt;unique&gt;</span> <span class="symbol">&lt;leader&gt;</span>frd <span class="symbol">&lt;Plug&gt;</span>LeaderfRgVisualRegexBoundary</span><br><span class="line"></span><br><span class="line"><span class="keyword">nmap</span> <span class="symbol">&lt;unique&gt;</span> <span class="symbol">&lt;leader&gt;</span>fgd <span class="symbol">&lt;Plug&gt;</span>LeaderfGtagsDefinition</span><br><span class="line"><span class="keyword">nmap</span> <span class="symbol">&lt;unique&gt;</span> <span class="symbol">&lt;leader&gt;</span>fgr <span class="symbol">&lt;Plug&gt;</span>LeaderfGtagsReference</span><br><span class="line"><span class="keyword">nmap</span> <span class="symbol">&lt;unique&gt;</span> <span class="symbol">&lt;leader&gt;</span>fgs <span class="symbol">&lt;Plug&gt;</span>LeaderfGtagsSymbol</span><br><span class="line"><span class="keyword">nmap</span> <span class="symbol">&lt;unique&gt;</span> <span class="symbol">&lt;leader&gt;</span>fgg <span class="symbol">&lt;Plug&gt;</span>LeaderfGtagsGrep</span><br><span class="line"></span><br><span class="line"><span class="keyword">vmap</span> <span class="symbol">&lt;unique&gt;</span> <span class="symbol">&lt;leader&gt;</span>fgd <span class="symbol">&lt;Plug&gt;</span>LeaderfGtagsDefinition</span><br><span class="line"><span class="keyword">vmap</span> <span class="symbol">&lt;unique&gt;</span> <span class="symbol">&lt;leader&gt;</span>fgr <span class="symbol">&lt;Plug&gt;</span>LeaderfGtagsReference</span><br><span class="line"><span class="keyword">vmap</span> <span class="symbol">&lt;unique&gt;</span> <span class="symbol">&lt;leader&gt;</span>fgs <span class="symbol">&lt;Plug&gt;</span>LeaderfGtagsSymbol</span><br><span class="line"><span class="keyword">vmap</span> <span class="symbol">&lt;unique&gt;</span> <span class="symbol">&lt;leader&gt;</span>fgg <span class="symbol">&lt;Plug&gt;</span>LeaderfGtagsGrep</span><br><span class="line"></span><br><span class="line"><span class="keyword">noremap</span> <span class="symbol">&lt;leader&gt;</span>fgo :<span class="symbol">&lt;C-U&gt;</span><span class="symbol">&lt;C-R&gt;</span>=<span class="built_in">printf</span>(<span class="string">&quot;Leaderf! gtags --recall %s&quot;</span>, <span class="string">&quot;&quot;</span>)<span class="symbol">&lt;CR&gt;</span><span class="symbol">&lt;CR&gt;</span></span><br><span class="line"><span class="keyword">noremap</span> <span class="symbol">&lt;leader&gt;</span>fgn :<span class="symbol">&lt;C-U&gt;</span><span class="symbol">&lt;C-R&gt;</span>=<span class="built_in">printf</span>(<span class="string">&quot;Leaderf gtags --next %s&quot;</span>, <span class="string">&quot;&quot;</span>)<span class="symbol">&lt;CR&gt;</span><span class="symbol">&lt;CR&gt;</span></span><br><span class="line"><span class="keyword">noremap</span> <span class="symbol">&lt;leader&gt;</span>fgp :<span class="symbol">&lt;C-U&gt;</span><span class="symbol">&lt;C-R&gt;</span>=<span class="built_in">printf</span>(<span class="string">&quot;Leaderf gtags --previous %s&quot;</span>, <span class="string">&quot;&quot;</span>)<span class="symbol">&lt;CR&gt;</span><span class="symbol">&lt;CR&gt;</span></span><br><span class="line"><span class="comment">&quot;--------------</span></span><br><span class="line"><span class="comment">&quot; LeaderF end</span></span><br><span class="line"><span class="comment">&quot;--------------</span></span><br></pre></td></tr></table></figure>
<p>返回<a href="/3254a4b3/" title="vim技巧总结">vim技巧总结</a></p>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/vim/" rel="tag"># vim</a>
              <a href="/tags/neovim/" rel="tag"># neovim</a>
              <a href="/tags/LeaderF/" rel="tag"># LeaderF</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/d0cb08b6/" rel="prev" title="vim 监控文件是否在vim外部被修改的机制">
                  <i class="fa fa-chevron-left"></i> vim 监控文件是否在vim外部被修改的机制
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/8c589a05/" rel="next" title="汇率基本概念的学习">
                  汇率基本概念的学习 <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






    <div class="comments gitalk-container"></div>
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Mingjian</span>
</div>
<div class="busuanzi-count">
    <span class="post-meta-item" id="busuanzi_container_site_uv">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-item" id="busuanzi_container_site_pv">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/pisces/" rel="noopener" target="_blank">NexT.Pisces</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>

  <script class="next-config" data-name="pdf" type="application/json">{"object_url":{"url":"https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.2.8/pdfobject.min.js","integrity":"sha256-tu9j5pBilBQrWSDePOOajCUdz6hWsid/lBNzK4KgEPM="},"url":"/lib/pdf/web/viewer.html"}</script>
  <script src="/js/third-party/tags/pdf.js"></script>

  <script class="next-config" data-name="mermaid" type="application/json">{"enable":true,"theme":{"light":"neutral","dark":"dark"},"js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mermaid/9.4.0/mermaid.min.js","integrity":"sha256-3JloMMI/ZQx6ryuhhZTsQJQmGAkXeni6PkshX7UUO2s="}}</script>
  <script src="/js/third-party/tags/mermaid.js"></script>



  
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>




  

  <script class="next-config" data-name="enableMath" type="application/json">true</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"ams","js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script>
<script src="/js/third-party/math/mathjax.js"></script>


<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/gitalk/1.8.0/gitalk.css" integrity="sha256-AJnUHL7dBv6PGaeyPQJcgQPDjt/Hn/PvYZde1iqfp8U=" crossorigin="anonymous">

<script class="next-config" data-name="gitalk" type="application/json">{"enable":true,"github_id":"retzzz","repo":"gitment-comments","client_id":"6a068ba17921ccef5727","client_secret":"f6a9f87e75e82d68a9988a1803eaf0ba021c2864","admin_user":"retzzz","distraction_free_mode":true,"proxy":"https://cors-anywhere.azm.workers.dev/https://github.com/login/oauth/access_token","language":null,"js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/gitalk/1.8.0/gitalk.min.js","integrity":"sha256-MVK9MGD/XJaGyIghSVrONSnoXoGh3IFxLw0zfvzpxR4="},"path_md5":"c56b49de6fc347d5e55dbee4fea744b7"}</script>
<script src="/js/third-party/comments/gitalk.js"></script>

</body>
</html>
